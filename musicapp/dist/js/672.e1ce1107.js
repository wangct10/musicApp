"use strict";(self["webpackChunkmusicapp"]=self["webpackChunkmusicapp"]||[]).push([[672],{2672:function(e,s,i){i.r(s),i.d(s,{default:function(){return C}});var t=i(3396),a=i(9242),n=i(7139);const r=e=>((0,t.dD)("data-v-7cef85ca"),e=e(),(0,t.Cn)(),e),l={class:"searchTop"},o=r((()=>(0,t._)("use",{"xlink:href":"#icon-zuojiantou"},null,-1))),c=[o],d={class:"searchHistory"},h=r((()=>(0,t._)("span",{class:"searchSpan"},"历史",-1))),u=["onClick"],y=r((()=>(0,t._)("use",{"xlink:href":"#icon-shanchu"},null,-1))),k=[y],g={class:"itemList"},p=["onClick"],m={class:"leftSpan"},L={class:"itemRight"},f={key:0,class:"icon bofang","aria-hidden":"true"},w=r((()=>(0,t._)("use",{"xlink:href":"#icon-shipin"},null,-1))),v=[w],K=r((()=>(0,t._)("svg",{class:"icon liebiao","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-31liebiao"})],-1)));function _(e,s,i,r,o,y){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",l,[((0,t.wg)(),(0,t.iD)("svg",{class:"icon","aria-hidden":"true",onClick:s[0]||(s[0]=s=>e.$router.go(-1))},c)),(0,t.wy)((0,t._)("input",{type:"text",placeholder:"陈奕迅","onUpdate:modelValue":s[1]||(s[1]=e=>o.searchKey=e),onKeydown:s[2]||(s[2]=(0,a.D2)(((...e)=>y.enterKey&&y.enterKey(...e)),["enter"]))},null,544),[[a.nr,o.searchKey]])]),(0,t._)("div",d,[h,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.keyWordList,(e=>((0,t.wg)(),(0,t.iD)("span",{key:e,class:"spanKey",onClick:s=>y.searchHistory(e)},(0,n.zw)(e),9,u)))),128)),((0,t.wg)(),(0,t.iD)("svg",{class:"icon","aria-hidden":"true",onClick:s[3]||(s[3]=(...e)=>y.delHistory&&y.delHistory(...e))},k))]),(0,t._)("div",g,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.searchList,((e,s)=>((0,t.wg)(),(0,t.iD)("div",{class:"item",key:s},[(0,t._)("div",{class:"itemLeft",onClick:i=>y.updateIndex(e,s)},[(0,t._)("span",m,(0,n.zw)(s+1),1),(0,t._)("div",null,[(0,t._)("p",null,(0,n.zw)(e.name),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.artists,((e,s)=>((0,t.wg)(),(0,t.iD)("span",{key:s},(0,n.zw)(e.name),1)))),128))])],8,p),(0,t._)("div",L,[0!=e.mvid?((0,t.wg)(),(0,t.iD)("svg",f,v)):(0,t.kq)("",!0),K])])))),128))])])}var W=i(2884),D={data(){return{keyWordList:[],searchKey:"",searchList:[]}},mounted(){this.keyWordList=JSON.parse(localStorage.getItem("keyWordList"))?JSON.parse(localStorage.getItem("keyWordList")):[]},methods:{enterKey:async function(){if(""!==this.searchKey){this.keyWordList.unshift(this.searchKey),this.keyWordList=[...new Set(this.keyWordList)],this.keyWordList.length>10&&this.keyWordList.splice(this.keyWordList.length-1,1),localStorage.setItem("keyWordList",JSON.stringify(this.keyWordList));let e=await(0,W.xK)(this.searchKey);this.searchList=e.data.result.songs,this.searchKey=""}},delHistory:function(){localStorage.removeItem("keyWordList"),this.keyWordList=[]},searchHistory:async function(e){let s=await(0,W.xK)(e);console.log(s),this.searchList=s.data.result.songs},updateIndex:async function(e){e.al=e.album,e.al.picUrl=e.album.artist.img1v1Url,this.$store.commit("pushPlayList",e),this.$store.commit("updatePlayListIndex",this.$store.state.playList.length-1)}}},x=i(89);const S=(0,x.Z)(D,[["render",_],["__scopeId","data-v-7cef85ca"]]);var C=S}}]);
//# sourceMappingURL=672.e1ce1107.js.map