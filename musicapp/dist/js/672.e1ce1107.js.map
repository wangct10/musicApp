{"version":3,"file":"js/672.e1ce1107.js","mappings":"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","sources":["webpack://musicapp/./src/views/Search.vue","webpack://musicapp/./src/views/Search.vue?a55f"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"searchTop\">\r\n      <svg class=\"icon\" aria-hidden=\"true\" @click=\"$router.go(-1)\">\r\n        <use xlink:href=\"#icon-zuojiantou\"></use>\r\n      </svg>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"陈奕迅\"\r\n        v-model=\"searchKey\"\r\n        @keydown.enter=\"enterKey\"\r\n      />\r\n    </div>\r\n    <div class=\"searchHistory\">\r\n      <span class=\"searchSpan\">历史</span>\r\n      <span\r\n        v-for=\"item in keyWordList\"\r\n        :key=\"item\"\r\n        class=\"spanKey\"\r\n        @click=\"searchHistory(item)\"\r\n        >{{ item }}</span\r\n      >\r\n      <svg class=\"icon\" aria-hidden=\"true\" @click=\"delHistory\">\r\n        <use xlink:href=\"#icon-shanchu\"></use>\r\n      </svg>\r\n    </div>\r\n    <div class=\"itemList\">\r\n      <div class=\"item\" v-for=\"(item, i) in searchList\" :key=\"i\">\r\n        <div class=\"itemLeft\" @click=\"updateIndex(item, i)\">\r\n          <span class=\"leftSpan\">{{ i + 1 }}</span>\r\n          <div>\r\n            <p>{{ item.name }}</p>\r\n            <span v-for=\"(item1, index) in item.artists\" :key=\"index\">{{\r\n              item1.name\r\n            }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"itemRight\">\r\n          <svg class=\"icon bofang\" aria-hidden=\"true\" v-if=\"item.mvid != 0\">\r\n            <use xlink:href=\"#icon-shipin\"></use>\r\n          </svg>\r\n          <svg class=\"icon liebiao\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-31liebiao\"></use>\r\n          </svg>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getSearchMusic } from \"@/request/api/home.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 回车后数组收集搜索输入信息\r\n      keyWordList: [],\r\n      // 收集搜索输入信息 用于双向绑定\r\n      searchKey: \"\",\r\n      // 收集搜索出来的数据\r\n      searchList: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.keyWordList = JSON.parse(localStorage.getItem(\"keyWordList\"))\r\n      ? JSON.parse(localStorage.getItem(\"keyWordList\"))\r\n      : [];\r\n  },\r\n  methods: {\r\n    enterKey: async function () {\r\n      if (this.searchKey !== \"\") {\r\n        this.keyWordList.unshift(this.searchKey);\r\n        // 去重\r\n        this.keyWordList = [...new Set(this.keyWordList)];\r\n        // 固定长度\r\n        if (this.keyWordList.length > 10) {\r\n          this.keyWordList.splice(this.keyWordList.length - 1, 1);\r\n        }\r\n        localStorage.setItem(\"keyWordList\", JSON.stringify(this.keyWordList));\r\n        // 回车后获取搜索数据\r\n        let res = await getSearchMusic(this.searchKey);\r\n        this.searchList = res.data.result.songs;\r\n        this.searchKey = \"\";\r\n      }\r\n    },\r\n    // 删除历史记录\r\n    delHistory: function () {\r\n      localStorage.removeItem(\"keyWordList\");\r\n      this.keyWordList = [];\r\n    },\r\n    // 点击历史记录获取搜索数据\r\n    searchHistory: async function (item) {\r\n      let res = await getSearchMusic(item);\r\n      console.log(res);\r\n      this.searchList = res.data.result.songs;\r\n    },\r\n    updateIndex: async function (item) {\r\n      item.al = item.album;\r\n      item.al.picUrl = item.album.artist.img1v1Url;\r\n      this.$store.commit(\"pushPlayList\", item);\r\n      this.$store.commit(\r\n        \"updatePlayListIndex\",\r\n        this.$store.state.playList.length - 1\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.searchTop {\r\n  width: 100%;\r\n  height: 1rem;\r\n  padding: 0 0.2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  input {\r\n    margin-left: 0.2rem;\r\n    border: none;\r\n    border-bottom: 0.02rem solid gray;\r\n    width: 100%;\r\n    padding: 0.1rem;\r\n  }\r\n}\r\n.searchHistory {\r\n  width: 100%;\r\n  padding: 0.2rem;\r\n  position: relative;\r\n  .searchSpan {\r\n    font-weight: 700;\r\n  }\r\n  .spanKey {\r\n    display: inline-block;\r\n    padding: 0.1rem 0.2rem;\r\n    background-color: #999;\r\n    border-radius: 0.3rem;\r\n    margin: 0rem 0.1rem;\r\n    margin-bottom: 0.2rem;\r\n  }\r\n  .icon {\r\n    width: 0.4rem;\r\n    height: 0.4rem;\r\n    position: absolute;\r\n    right: 0.2rem;\r\n  }\r\n}\r\n.itemList {\r\n  width: 100%;\r\n  padding: 0rem 0.2rem;\r\n  .item {\r\n    width: 100%;\r\n    height: 1.4rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .itemLeft {\r\n      width: 85%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      .leftSpan {\r\n        display: inline-block;\r\n        width: 0.2rem;\r\n        text-align: center;\r\n      }\r\n      div {\r\n        p {\r\n          width: 4.54rem;\r\n          height: 0.4rem;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          font-weight: 700;\r\n        }\r\n        span {\r\n          font-weight: 400;\r\n          font-size: 0.24rem;\r\n          color: #999;\r\n        }\r\n        margin-left: 0.3rem;\r\n      }\r\n    }\r\n    .itemRight {\r\n      width: 20%;\r\n      height: 100%;\r\n      display: flex;\r\n      // justify-content: space-between;\r\n      align-items: center;\r\n      position: relative;\r\n      .icon {\r\n        fill: #999;\r\n      }\r\n      .bofang {\r\n        position: absolute;\r\n        left: 0;\r\n      }\r\n      .liebiao {\r\n        position: absolute;\r\n        right: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>>\r\n","import { render } from \"./Search.vue?vue&type=template&id=7cef85ca&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=7cef85ca&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\大前端\\\\vue-网易云音乐移动端\\\\wangct的网易云\\\\musicapp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7cef85ca\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_hoisted_7","_hoisted_14","_createElementBlock","onClick","_ctx","go","type","placeholder","$data","$event","onKeydown","$options","_hoisted_5","_Fragment","_renderList","item","key","_hoisted_6","i","_toDisplayString","name","artists","item1","index","mvid","_hoisted_15","_hoisted_16","data","keyWordList","searchKey","searchList","mounted","this","JSON","parse","localStorage","getItem","methods","enterKey","async","unshift","Set","length","splice","setItem","stringify","res","getSearchMusic","result","songs","delHistory","removeItem","searchHistory","console","log","updateIndex","al","album","picUrl","artist","img1v1Url","$store","commit","state","playList","__exports__","render"],"sourceRoot":""}